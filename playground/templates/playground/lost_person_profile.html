{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lost Person Profile | Find The Missing</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#784FB1',
                        accent: '#FC7F15',
                        grey: '#F0F0F0', 
                    },
                    maxWidth: {
                        'container': '1296px'
                    }
                }
            }
        }
    </script>
    <style>
        body {
            background-color: #DEF6FB;
            margin: 0; /* Remove default margin */
        }
        .profile-container {
            background: #ffffff;
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
            width: 100%;
            max-width: 800px; /* Increased width for the profile */
            position: relative;
            margin: 100px auto; /* Center the form with margin */
        }
        .header {
            background: #A7D3E0; /* Light blue background */
            padding: 20px;
            border-radius: 10px 10px 0 0;
            text-align: center;
            width: 100%; /* Full width for header */
            margin-bottom: 20px; /* Space below the header */
        }
        .header h1 {
            color: #6A5ACD; /* Purple color */
            font-size: 24px;
            margin: 0;
        }
        .profile-content {
            display: flex; /* Flexbox for layout */
            align-items: center; /* Center items vertically */
        }
        .profile-image {
            border-radius: 50%;
            width: 200px;
            height: 200px;
            object-fit: cover;
            margin-right: 20px; /* Space between image and text */
            flex-shrink: 0; /* Prevent shrinking */
        }
        .profile-details {
            background: #F0F0F0; /* Greyish background */
            border-radius: 10px;
            padding: 20px;
            flex-grow: 1; /* Allow text area to grow */
            display: flex;
            flex-direction: column; /* Stack items vertically */
            justify-content: space-between; /* Space between items */
            max-height: 250px; /* Set a maximum height */
            overflow-y: auto; /* Allow scrolling if content overflows */
        }
        .profile-details p {
            margin: 5px 0;
            display: flex;
            align-items: center; /* Center items vertically */
        }
        .profile-details p img {
            margin-right: 10px; /* Space between icon and text */
            width: 20px; /* Icon size */
            height: 20px; /* Icon size */
        }
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav class="bg-white/80 h-[100px] flex items-center sticky top-0 z-50 backdrop-blur-sm w-full">
        <div class="max-w-container mx-auto px-5 w-full">
            <div class="flex justify-between items-center">
                <div class="flex gap-[50px]">
                    <a href="{% url 'lost_persons_logged_in' %}" class="text-primary hover:opacity-80">Lost Persons</a>
                    <a href="{% url 'found_persons_logged_in' %}" class="text-primary hover:opacity-80">Found Persons</a>
                </div>
                <div class="flex items-center gap-4">
                    <a href="{% url 'user_profile' %}" class="text-primary hover:opacity-80">
                        <img src="{% static 'images/avatar.png' %}" alt="User Avatar" class="w-10 h-10 rounded-full">
                    </a>
                    <a href="{% url 'logout' %}" class="bg-accent text-white py-2 px-4 rounded-lg">Log Out</a>
                </div>
            </div>
        </div>
    </nav>

    <!-- Profile Section -->
    <div class="profile-container">
        <div class="header">
            <h1>Lost Person Profile</h1>
        </div>
        {% if match %}
        <div class="match-alert mb-8 bg-success p-6 rounded-lg">
            <h2 class="text-2xl font-bold text-gray-800 mb-4">Match Found!</h2>
            <div class="bg-white rounded-lg p-4">
                <p class="text-lg mb-4">This person was previously reported as found in our database:</p>
                <div class="flex items-center gap-6">
                    <img src="{{ match.found_person.photo.url }}" alt="{{ match.found_person.full_name }}" class="w-32 h-32 rounded-full object-cover">
                    <div>
                        <h3 class="text-xl font-semibold">{{ match.found_person.full_name }}</h3>
                        <p class="text-gray-600">Reported found on {{ match.found_person.date_reported|date:"d/m/Y" }}</p>
                        <p class="text-gray-600">Found at {{ match.found_person.location }}</p>
                        {% if match.found_person.ob_number %}
                        <p class="text-gray-600">Police OB Number: {{ match.found_person.ob_number }}</p>
                        {% endif %}
                        <p class="mt-2">Match Confidence: <span class="font-bold text-success">{{ match.match_percentage|floatformat:1 }}%</span></p>
                    </div>
                </div>
            </div>
        </div>
        {% endif %}
        
    </div>
</body>
</html> 